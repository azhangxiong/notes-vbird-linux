#Linux账号管理与ACL权限设定

###Linux的账号与群组

####使用者账号

* /etc/passwd档案结构

1. 账号名称
2. 密码（早期放在这，后来被移动到/etc/shadow中）
3. UID（0：系统管理员，1-499：系统账号，500-65535：可登入账号）
4. 
5. GID
6. 用户信息说明栏
7. 家目录
8. shell

* /etc/shadow档案结构

1. 账号名称
2. 密码（加密后）
3. 最近修改密码日期
4. 密码不可被修改的天数
5. 密码需要重新变更的天数
6. 密码需要变更期限前的警告天数
7. 密码过期后的账号宽限事件
8. 账号失效日期
9. 保留

####有效与初始群组

* /etc/group档案结构

1. 组名
2. 群组密码（群组管理员使用，已经移动到/etc/gshadow中）
3. GID
4. 群组支持的账号名称

* groups：观察有效与支持群组

```
groups
```

* newgrp：有效群组的切换

```
newgrp 组名
```

* /etc/gshadow档案结构

1. 组名
2. 密码（!开头表示无合法密码，无群组管理员）
3. 群组管理员账号
4. 群组支持的账号名称

###账号管理

####新增与移除使用者

* useradd

```
useradd [-u UID] [-g 初始群组] [-G 次要群组] [-mM] [-c 说明档] [-d 家目录绝对路径] [-s shell] 使用者账号名

-u：后接UID
-g：后接组名
-G：后接组名
-M：强制不建立用户家目录（系统账号默认值）
-m：强制建立用户家目录（一般账号默认值）
-c：后接说明
-d：指定某个目录成为家目录，而不使用默认值
-r：建立一个系统账号
```

* useradd参考档：/etc/default/useradd

|设定|意义|
|--|--|
|GROUP=100|新建账号的初始群组GID为100|
|HOME=/home|用户家目录的基准目录|
|INACTIVE=-1|密码过期后是否会失效|
|EXPIRE=|账号失效日期|
|SHELL=/bin/bash|默认使用的shell程序文件名|
|SKEL=/etc/skel|用户家目录参考基准目录|
|CREATE_MAIL_SPOOL=yes|建立使用者的mailbox|

* passwd

















