# Linux的档案权限与目录管理

###使用者与群组

* 档案拥有者
* 群组
* 其他人

###Linux文件属性

![](文档属性示意图.png)

####第一栏

代表这个档案的类型与权限

![](档案类型与权限.png)

```
第一个字符代表这个档案的类型：
  d：目录
  -：档案
  |：链接档（link file）
  b：可随机存取装置
  c：一次性读取装置
  s：资料接口文件（socket）
  p：数据输送文件（FIFO，pipe）
  
后每3个为一组
  第一组：档案拥有者权限
  第二组：群组权限
  第三组：其他人权限
```

####第二栏

代表有多少档名链接到此节点（i-node）

####第三栏

代表这个档案的拥有者账号

####第四栏

代表档案所属群组

####第五栏

这个档案的大小，默认单位为bytes

####第六栏

这个档案的创建日期或者是最近的修改日期

####第七栏

这个档案的档名

###改变文件的属性与权限

####chgrp：改变所属群组

```
chgrp [-R] dirname/filename ...

-R：递归改变
```

####chown：改变档案拥有者

```
chown [-R] 账号名称 档案或目录
chown [-R] 账号名称:组名 档案或目录

-R：递归改变
```

####chmod：改变权限

```
chmod [-R] xyz 档案或目录

-R：递归变更
数字类型代表档案权限
r：4，w：2，x：1
```
###Linux文件名限制

```
应避免的特殊字符：
  *?<>;&![]|\'"`(){}
```

###Linux目录配置

####Linux目录配置依据-FHS

http://www.pathname.com/fhs/

* /（root）：与开机系统有关
* /usr（unix software resource）：与软件安装、执行有关
* /var（variable）：与系统运作过程有关

#####根目录的意义与内容

根目录所在分割槽应越小越好

|目录|应放置内容|
|--|--|
|/bin|/bin下放置的是在单人维护模式下还能被操作的命令。/bin下的命令可以被root和一般账号所使用，主要有：cat、chmod、chown、date、mv、mkdir、cp、bash等常用指令|
|/boot|这个目录主要防止开机会使用到的档案，包括Linux核心档案以及开机选单与开机所需配置文件等|
|/dev|在Linux系统上，任何装置与接口设备都是以档案的形态存在于这个目录中|
|/etc|系统主要的配置文件几乎都放置在这个目录内，例如人员的账号密码文件、各种服务的起始档等等。一般来说，这个目录下的各文件属性是可以让一般使用者查阅的，但是只有root有权利修改。比较重要的档案有：/etc/inittab、/etc/init.d/、/etc/modprobe.conf、/etc/X11/、/etc/fstab、/etc/sysconfig/等等。|
|/etc/init.d/|所有服务的预设启动脚本都是放在这个目录下|
|/etc/xinetd.d/|这就是所谓的super daemon管理的各项服务的配置文件目录|
|/etc/X11/|与X Window有关的各种配置文件都在这里，尤其是xorg.conf这个X Server的配置文件|
|/home|这是系统默认的用户家目录。新增一个一般用户账号时，默认的用户家目录都会规范到这里来。~：代表目前用户的家目录。~a：代表a的家目录|
|/lib|/lib下放置的是开机时会用到的函式库，以及在/bin或/sbin底下的指令会呼叫的函式库|
|/media|/media下放置的是可移除的装置。如：/media/floppy、/media/cdrom等|
|/mnt|用来暂时挂载额外装置，与/media用途相同|
|/opt|这个是给第三方协力软件放置的目录|
|/root|系统管理员的家目录。之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，该目录就能拥有root的家目录，所以我们希望root的家目录与根目录放置在同一个分割槽中|
|/sbin|Linux有非常多指令是用来设定系统环境的，这些指令只有root才能用来设定系统，其他用户最多只能用来查询。放在/slib下的为开机过程所需要的，里面包括了开机、修复、还原系统所需要的指令。至于某些服务器软件程序，一般放置到/usr/sbin当中。至于开机自行安装的软件所产生的系统执行文件，则放置到/usr/local/sbin/当中。常见的指令包括：fdisk、fsck、ifconfig、init、mkfs等等|
|/srv|src可视为service的缩写，是一些网络服务启动之后，这些服务所需要取用的数据目录。|
|/tmp|这是让一般用户或者是正在执行的程序暂时放置档案的地方。这个目录是任何人都能够存取的，所以需要定期清理一下|
|/lost+found|这个目录是使用标准的ext2/ext3文件系统格式才会产生的一个目录，目的在于当文件系统发生错误时，将一些遗失的片段放置到这个目录下。这个目录通常会在分割槽的最顶层存在|
|/proc|这个目录本身是一个虚拟文件系统，放置的数据都是在内存当中，所以本身不占任何硬盘空间|
|/sys|这个目录跟/proc类似，也是一个虚拟文件系统，主要也是记录与核心相关的信息|

不可与根目录分开的目录

* /etc：配置文件
* /bin：重要执行档
* /dev：所需要的装置档案
* /lib：执行档所需的函式库与核心所需的模块
* /sbin：重要的系统执行文件


